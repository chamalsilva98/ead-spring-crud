(this["webpackJsonpspring-crud"]=this["webpackJsonpspring-crud"]||[]).push([[0],{214:function(e,t,a){"use strict";a.r(t);var n=a(282),c=a(280),r=a(122),s=a(299),i=a(281),j=a(51),l=a(17),o=a.n(l),d=a(1),b=a.n(d),u=a(58),O=a.n(u),x=a(79),h=a(18),p=a(7),m=a(151),f=a.n(m),g=a(312),v=a(277),w=a(294),k=a(313),C=a(307),N=a(303),S=a(72),y=a.n(S),D=a(293),A=a(306),I=a(300),T=a(305),W=a(304),U=a(302),F=a(308),R=a(309),P=a(290),E=a(310),B=a(311),L=a(271);var M=function(e,t){var a=Object(d.useState)((function(){return function(e,t){var a=localStorage.getItem(e);return JSON.parse(a)||t}(e,t)})),n=Object(p.a)(a,2),c=n[0],r=n[1];return Object(d.useEffect)((function(){localStorage.setItem(e,JSON.stringify(c))}),[e,c]),[c,r]},J=a(0),q=Object(d.createContext)({token:"",setToken:function(){return null}}),z=function(e){var t=M("token",""),a=Object(p.a)(t,2),n=a[0],c=a[1];return Object(J.jsx)(q.Provider,{value:{token:n,setToken:c},children:e.children})},Y=function(){var e=Object(d.useContext)(q);return{token:e.token,setToken:e.setToken}},G=function(){var e=Object(h.f)(),t=Y(),a=t.token,n=t.setToken,c=b.a.useState(!1),r=Object(p.a)(c,2),s=r[0],i=r[1],j=function(){i(!1)};return Object(J.jsxs)(L.a,{children:[Object(J.jsxs)(I.a,{open:s,onClose:j,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(J.jsx)(U.a,{id:"alert-dialog-title",children:"Confirm sign out?"}),Object(J.jsx)(W.a,{}),Object(J.jsxs)(T.a,{children:[Object(J.jsx)(A.a,{onClick:j,children:"No"}),Object(J.jsx)(A.a,{onClick:function(){n(""),j(),e.push("/")},autoFocus:!0,children:"Yes"})]})]}),Object(J.jsx)(C.a,{}),Object(J.jsx)(F.a,{}),Object(J.jsxs)(R.a,{children:[Object(J.jsxs)(P.a,{button:!0,onClick:function(){return e.push("/dashboard")},disabled:""===a,children:[Object(J.jsx)(E.a,{children:Object(J.jsx)(D.a,{children:Object(J.jsx)(y.a,{})})}),Object(J.jsx)(B.a,{primary:"Dashboard"})]}),Object(J.jsxs)(P.a,{button:!0,onClick:function(){return e.push("/customers")},disabled:""===a,children:[Object(J.jsx)(E.a,{children:Object(J.jsx)(D.a,{children:Object(J.jsx)(y.a,{})})}),Object(J.jsx)(B.a,{primary:"Customers"})]}),Object(J.jsxs)(P.a,{button:!0,onClick:function(){return e.push("/accounts")},disabled:""===a,children:[Object(J.jsx)(E.a,{children:Object(J.jsx)(D.a,{children:Object(J.jsx)(y.a,{})})}),Object(J.jsx)(B.a,{primary:"Account Types"})]}),Object(J.jsxs)(P.a,{button:!0,onClick:function(){return e.push("/users")},disabled:"admin"!==a,children:[Object(J.jsx)(E.a,{children:Object(J.jsx)(D.a,{children:Object(J.jsx)(y.a,{})})}),Object(J.jsx)(B.a,{primary:"Users"})]}),Object(J.jsxs)(P.a,{button:!0,onClick:function(){i(!0)},disabled:""===a,children:[Object(J.jsx)(E.a,{children:Object(J.jsx)(D.a,{children:Object(J.jsx)(y.a,{})})}),Object(J.jsx)(B.a,{primary:"Sign Out"})]})]}),Object(J.jsx)(F.a,{})]})},V=280,H=function(e){var t=Object(h.g)(),a=e.window,n=Object(d.useState)(!1),c=Object(p.a)(n,2),r=c[0],s=c[1],i=Object(d.useState)(""),j=Object(p.a)(i,2),l=j[0],o=j[1],b=function(){s(!r)},u=void 0!==a?function(){return a().document.body}:void 0;return Object(d.useEffect)((function(){var e="";switch(t.pathname){case"/":e="Sign In";break;case"/dashboard":e="Dashboard";break;case"/customers":e="Customers";break;case"/accounts":e="Account Types";break;case"/users":e="Users"}o(e)}),[t]),Object(J.jsxs)(v.a,{sx:{display:"flex"},children:[Object(J.jsx)(g.a,{position:"fixed",sx:{width:{sm:"calc(100% - ".concat(V,"px)")},ml:{sm:"".concat(V,"px")}},children:Object(J.jsxs)(C.a,{children:[Object(J.jsx)(k.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:b,sx:{mr:2,display:{sm:"none"}},children:Object(J.jsx)(f.a,{})}),Object(J.jsx)(N.a,{variant:"h6",noWrap:!0,component:"div",textAlign:"center",sx:{flexGrow:1},children:l})]})}),Object(J.jsxs)(v.a,{component:"nav",sx:{width:{sm:V},flexShrink:{sm:0}},"aria-label":"mailbox folders",children:[Object(J.jsx)(w.a,{container:u,variant:"temporary",open:r,onClose:b,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:V}},children:Object(J.jsx)(G,{})}),Object(J.jsx)(w.a,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:V}},open:!0,children:Object(J.jsx)(G,{})})]}),Object(J.jsxs)(v.a,{component:"main",sx:{flexGrow:1,p:3,width:{sm:"calc(100% - ".concat(V,"px)")},height:"100vh",bgcolor:"grey.100"},children:[Object(J.jsx)(C.a,{}),e.children]})]})},K=a(16),Q=a.n(K),X=a(23),Z=a(104),$=a.n(Z),_=a(103),ee=a.n(_),te=a(301),ae=a(316),ne=a(320),ce=a(319),re=a(315),se=a(317),ie=a(318),je=a(295),le=a(25),oe=a(15),de=a(285),be=function(e){var t=e.open,a=e.setOpen,n=Object(d.useState)(""),c=Object(p.a)(n,2),r=c[0],s=c[1],i=Object(d.useState)(""),j=Object(p.a)(i,2),l=j[0],b=j[1],u=function(){a(!1)},O=function(){var t=Object(X.a)(Q.a.mark((function t(){var a,n;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!isNaN(+l)){t.next=2;break}return t.abrupt("return");case 2:return a={accountName:r,interestRate:+l},t.prev=3,t.next=6,o.a.post("/account/add",a);case 6:n=t.sent,e.setRows((function(e){return[].concat(Object(oe.a)(e),[Object(le.a)(Object(le.a)({},a),{},{id:n.data})])})),h(),u(),t.next=14;break;case 12:t.prev=12,t.t0=t.catch(3);case 14:case"end":return t.stop()}}),t,null,[[3,12]])})));return function(){return t.apply(this,arguments)}}(),x=function(){var t=Object(X.a)(Q.a.mark((function t(){var a;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!isNaN(+l)){t.next=2;break}return t.abrupt("return");case 2:return a={id:e.selected,accountName:r,interestRate:+l},t.prev=3,t.next=6,o.a.put("/account/update",a);case 6:e.setRows((function(t){return t.map((function(t){return t.id===e.selected?Object(le.a)(Object(le.a)({},t),a):t}))})),u(),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(3);case 12:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(){return t.apply(this,arguments)}}(),h=function(){s(""),b("")};return Object(d.useEffect)((function(){if(e.update){var t=e.rows.find((function(t){return t.id===e.selected}));s(t.accountName),b(t.interestRate.toString())}else h()}),[e.selected]),Object(J.jsxs)(I.a,{open:t,onClose:u,children:[Object(J.jsxs)(U.a,{children:[e.update?"Update":"Add"," Account Type"]}),Object(J.jsxs)(W.a,{children:[Object(J.jsx)(de.a,{autoFocus:!0,margin:"dense",label:"Account Name",fullWidth:!0,variant:"standard",value:r,onChange:function(e){return s(e.target.value)}}),Object(J.jsx)(de.a,{margin:"dense",label:"Interest Rate",fullWidth:!0,variant:"standard",value:l,onChange:function(e){return b(e.target.value)}})]}),Object(J.jsxs)(T.a,{children:[Object(J.jsx)(A.a,{onClick:u,children:"Cancel"}),e.update?Object(J.jsx)(A.a,{onClick:x,children:"Update"}):Object(J.jsx)(A.a,{onClick:O,children:"Add"})]})]})},ue=a(68),Oe=a.n(ue),xe=function(e){return Object(J.jsxs)(C.a,{sx:{pl:{sm:2},pr:{xs:1,sm:1}},children:[Object(J.jsx)(N.a,{sx:{flex:"1 1 100%"},variant:"h6",id:"tableTitle",component:"div",children:"Account Type Details"}),Object(J.jsx)(je.a,{title:"Add New Account Type",children:Object(J.jsx)(k.a,{onClick:function(){e.setShow(!0),e.setUpdate(!1),e.setSelected(0)},children:Object(J.jsx)(Oe.a,{})})})]})},he=function(e){var t=e.open,a=e.setOpen,n=function(){return a(!1)};return Object(J.jsxs)(I.a,{open:t,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(J.jsx)(U.a,{id:"alert-dialog-title",children:"Are you sure you want to delete?"}),Object(J.jsx)(W.a,{}),Object(J.jsxs)(T.a,{children:[Object(J.jsx)(A.a,{onClick:n,children:"No"}),Object(J.jsx)(A.a,{onClick:function(){e.action(),n()},autoFocus:!0,children:"Yes"})]})]})},pe=function(){var e=Object(d.useState)(!1),t=Object(p.a)(e,2),a=t[0],n=t[1],c=Object(d.useState)(!1),r=Object(p.a)(c,2),s=r[0],i=r[1],j=Object(d.useState)(0),l=Object(p.a)(j,2),b=l[0],u=l[1],O=Object(d.useState)([]),x=Object(p.a)(O,2),h=x[0],m=x[1],f=Object(d.useState)(!1),g=Object(p.a)(f,2),v=g[0],w=g[1];Object(d.useEffect)((function(){Object(X.a)(Q.a.mark((function e(){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/account/all");case 2:t=e.sent,m(t.data);case 4:case"end":return e.stop()}}),e)})))()}),[]);return Object(J.jsxs)(L.a,{sx:{width:"100%"},children:[Object(J.jsx)(be,{open:a,setOpen:n,rows:h,setRows:m,selected:b,update:v}),Object(J.jsx)(he,{open:s,setOpen:i,action:function(){o.a.delete("/account/delete/"+b),m(h.filter((function(e){return e.id!==b})))}}),Object(J.jsxs)(te.a,{sx:{width:"100%",mb:2},children:[Object(J.jsx)(xe,{setShow:n,setUpdate:w,setSelected:u}),Object(J.jsx)(re.a,{component:te.a,children:Object(J.jsxs)(ae.a,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(J.jsx)(se.a,{children:Object(J.jsxs)(ie.a,{children:[Object(J.jsx)(ce.a,{children:"ID"}),Object(J.jsx)(ce.a,{align:"right",children:"Account Name"}),Object(J.jsx)(ce.a,{align:"right",children:"Interest Rate"}),Object(J.jsx)(ce.a,{align:"right"})]})}),Object(J.jsx)(ne.a,{children:h.map((function(e){return Object(J.jsxs)(ie.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(J.jsx)(ce.a,{component:"th",scope:"row",children:e.id}),Object(J.jsx)(ce.a,{align:"right",children:e.accountName}),Object(J.jsx)(ce.a,{align:"right",children:e.interestRate}),Object(J.jsxs)(ce.a,{align:"right",children:[Object(J.jsx)(je.a,{title:"Update Account Type",children:Object(J.jsx)(k.a,{onClick:function(){w(!0),u(e.id),n(!0)},children:Object(J.jsx)(ee.a,{})})}),Object(J.jsx)(je.a,{title:"Delete Account Type",children:Object(J.jsx)(k.a,{onClick:function(){i(!0),u(e.id)},children:Object(J.jsx)($.a,{})})})]})]},e.id)}))})]})})]})]})},me=a(153),fe=a.n(me),ge=a(152),ve=a.n(ge),we=a(321),ke=a(283),Ce=a(286),Ne=function(e){var t=e.open,a=e.setOpen,n=Object(d.useState)(""),c=Object(p.a)(n,2),r=c[0],s=c[1],i=Object(d.useState)(""),j=Object(p.a)(i,2),l=j[0],u=j[1],O=b.a.useState(new Date),x=Object(p.a)(O,2),h=x[0],m=x[1],f=Object(d.useState)(""),g=Object(p.a)(f,2),v=g[0],w=g[1],k=Object(d.useState)(""),C=Object(p.a)(k,2),N=C[0],S=C[1],y=Object(d.useState)(""),D=Object(p.a)(y,2),F=D[0],R=D[1],P=Object(d.useState)(),E=Object(p.a)(P,2),B=E[0],M=E[1],q=Object(d.useState)(""),z=Object(p.a)(q,2),Y=z[0],G=z[1],V=Object(d.useState)([{label:"",id:0}]),H=Object(p.a)(V,2),K=H[0],Z=H[1];Object(d.useEffect)((function(){o.a.get("/account/all").then((function(e){return Z(e.data.map((function(e){return{label:e.accountName,id:e.id}})))}))}),[]);var $=function(){a(!1)},_=function(){var t=Object(X.a)(Q.a.mark((function t(){var a,n,c,s,i;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r&&l&&v&&N&&F&&h&&B&&Y)||isNaN(+Y)){t.next=18;break}return a={firstName:r,lastName:l,nic:v,phoneNumber:N,address:F,dob:h},t.prev=2,t.next=5,o.a.post("/customer/add",a);case 5:return n=t.sent,c=n.data,s={customerId:+c,accountId:B.id,balance:+Y},t.next=10,o.a.post("/customeraccount/add",s);case 10:i=t.sent,e.setRows((function(e){return[].concat(Object(oe.a)(e),[Object(le.a)(Object(le.a)({},a),{},{id:s.customerId,accounts:[Object(le.a)(Object(le.a)({},s),{},{accountNumber:i.data})]})])})),ee(),$(),t.next=18;break;case 16:t.prev=16,t.t0=t.catch(2);case 18:case"end":return t.stop()}}),t,null,[[2,16]])})));return function(){return t.apply(this,arguments)}}(),ee=function(){s(""),u(""),m(new Date),w(""),S(""),R(""),G("")};return Object(J.jsxs)(I.a,{open:t,onClose:$,children:[Object(J.jsx)(U.a,{children:"Add User"}),Object(J.jsxs)(W.a,{children:[Object(J.jsx)(de.a,{autoFocus:!0,margin:"dense",label:"First Name",fullWidth:!0,variant:"standard",value:r,onChange:function(e){return s(e.target.value)}}),Object(J.jsx)(de.a,{margin:"dense",label:"Last Name",fullWidth:!0,variant:"standard",value:l,onChange:function(e){return u(e.target.value)}}),Object(J.jsx)(L.a,{sx:{marginTop:"24px"},children:Object(J.jsx)(ke.a,{label:"Date of Birth",inputFormat:"MM/dd/yyyy",value:h,onChange:function(e){m(e)},renderInput:function(e){return Object(J.jsx)(de.a,Object(le.a)({},e))}})}),Object(J.jsx)(de.a,{margin:"dense",label:"NIC",fullWidth:!0,variant:"standard",value:v,onChange:function(e){return w(e.target.value)}}),Object(J.jsx)(de.a,{margin:"dense",label:"Phone Number",fullWidth:!0,variant:"standard",value:N,onChange:function(e){return S(e.target.value)}}),Object(J.jsx)(de.a,{margin:"dense",label:"Address",fullWidth:!0,variant:"standard",value:F,onChange:function(e){return R(e.target.value)}}),Object(J.jsx)(L.a,{sx:{marginTop:"24px"},children:Object(J.jsx)(Ce.a,{disablePortal:!0,id:"combo-box-demo",options:K,sx:{width:300},onChange:function(e,t){return M(t)},renderInput:function(e){return Object(J.jsx)(de.a,Object(le.a)(Object(le.a)({},e),{},{label:"Account"}))}})}),Object(J.jsx)(de.a,{margin:"dense",label:"Amount",fullWidth:!0,variant:"standard",value:Y,onChange:function(e){return G(e.target.value)}})]}),Object(J.jsxs)(T.a,{children:[Object(J.jsx)(A.a,{onClick:$,children:"Cancel"}),Object(J.jsx)(A.a,{onClick:_,children:"Add"})]})]})},Se=function(e){return Object(J.jsxs)(C.a,{sx:{pl:{sm:2},pr:{xs:1,sm:1}},children:[Object(J.jsx)(N.a,{sx:{flex:"1 1 100%"},variant:"h6",id:"tableTitle",component:"div",children:"Customer Details"}),Object(J.jsx)(je.a,{title:"Add New Customer",children:Object(J.jsx)(k.a,{onClick:function(){e.setShow(!0)},children:Object(J.jsx)(Oe.a,{})})})]})},ye=function(e,t,a,n,c,r,s,i){return{id:e,firstName:t,lastName:a,dob:n,nic:c,phoneNumber:r,address:s,accounts:i}};function De(e){var t=e.row,a=Object(d.useState)(!1),n=Object(p.a)(a,2),c=n[0],r=n[1];return Object(J.jsxs)(b.a.Fragment,{children:[Object(J.jsxs)(ie.a,{sx:{"& > *":{borderBottom:"unset"}},children:[Object(J.jsx)(ce.a,{children:Object(J.jsx)(k.a,{"aria-label":"expand row",size:"small",onClick:function(){return r(!c)},children:c?Object(J.jsx)(ve.a,{}):Object(J.jsx)(fe.a,{})})}),Object(J.jsx)(ce.a,{component:"th",scope:"row",children:t.id}),Object(J.jsx)(ce.a,{align:"right",children:t.firstName}),Object(J.jsx)(ce.a,{align:"right",children:t.lastName}),Object(J.jsx)(ce.a,{align:"right",children:t.dob.toDateString()}),Object(J.jsx)(ce.a,{align:"right",children:t.nic}),Object(J.jsx)(ce.a,{align:"right",children:t.phoneNumber}),Object(J.jsx)(ce.a,{align:"right",children:t.address})]}),Object(J.jsx)(ie.a,{children:Object(J.jsx)(ce.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:Object(J.jsx)(we.a,{in:c,timeout:"auto",unmountOnExit:!0,children:Object(J.jsxs)(v.a,{sx:{margin:1},children:[Object(J.jsx)(N.a,{variant:"h6",gutterBottom:!0,component:"div",children:"Accounts"}),Object(J.jsxs)(ae.a,{size:"small","aria-label":"purchases",children:[Object(J.jsx)(se.a,{children:Object(J.jsxs)(ie.a,{children:[Object(J.jsx)(ce.a,{children:"Account Number"}),Object(J.jsx)(ce.a,{align:"right",children:"Balance"})]})}),Object(J.jsx)(ne.a,{children:t.accounts.map((function(e){return Object(J.jsxs)(ie.a,{children:[Object(J.jsx)(ce.a,{component:"th",scope:"row",children:e.accountNumber}),Object(J.jsx)(ce.a,{align:"right",children:e.balance})]},e.accountNumber)}))})]})]})})})})]})}var Ae=function(){var e=Object(d.useState)(!1),t=Object(p.a)(e,2),a=t[0],n=t[1],c=Object(d.useState)([ye(0,"","",new Date,"","","",[{accountId:0,balance:0,customerId:0,accountNumber:0}])]),r=Object(p.a)(c,2),s=r[0],i=r[1];return Object(d.useEffect)((function(){Object(X.a)(Q.a.mark((function e(){var t,a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/customer/all");case 2:return t=e.sent,e.next=5,Promise.all(t.data.map((function(e){return o.a.get("/customeraccount/customerid/"+e.id)})));case 5:a=e.sent,i(t.data.map((function(e,t){var n=e.id,c=e.firstName,r=e.lastName,s=e.dob,i=e.nic,j=e.phoneNumber,l=e.address;return ye(n,c,r,new Date(s),i,j,l,a[t].data)})));case 7:case"end":return e.stop()}}),e)})))()}),[]),Object(J.jsxs)(v.a,{sx:{width:"100%"},children:[Object(J.jsx)(Ne,{open:a,setOpen:n,rows:s,setRows:i}),Object(J.jsxs)(te.a,{sx:{width:"100%",mb:2},children:[Object(J.jsx)(Se,{setShow:n}),Object(J.jsx)(re.a,{component:te.a,children:Object(J.jsxs)(ae.a,{"aria-label":"collapsible table",children:[Object(J.jsx)(se.a,{children:Object(J.jsxs)(ie.a,{children:[Object(J.jsx)(ce.a,{}),Object(J.jsx)(ce.a,{children:"Customer ID"}),Object(J.jsx)(ce.a,{align:"right",children:"First Name"}),Object(J.jsx)(ce.a,{align:"right",children:"Last Name"}),Object(J.jsx)(ce.a,{align:"right",children:"Date of Birth"}),Object(J.jsx)(ce.a,{align:"right",children:"NIC"}),Object(J.jsx)(ce.a,{align:"right",children:"Phone Number"}),Object(J.jsx)(ce.a,{align:"right",children:"Address"})]})}),Object(J.jsx)(ne.a,{children:s.map((function(e){return Object(J.jsx)(De,{row:e},e.id)}))})]})})]})]})},Ie=a(154),Te=a.n(Ie),We=a(323),Ue=a(296),Fe=a(289),Re=a(322),Pe=function(e){var t=e.open,a=e.setOpen,n=Object(d.useState)(""),c=Object(p.a)(n,2),r=c[0],s=c[1],i=Object(d.useState)({address:"",dob:new Date,firstName:"",lastName:"",nic:"",phoneNumber:"",id:0}),j=Object(p.a)(i,2),l=j[0],b=j[1],u=function(){a(!1)};Object(d.useEffect)((function(){t&&(s(""),Object(X.a)(Q.a.mark((function t(){var a,n;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get("/customeraccount/get/"+e.accountNumber);case 2:if(null!==(a=t.sent).data){t.next=6;break}return s("Invalid Account Number"),t.abrupt("return");case 6:if(e.isDeposit||!(a.data.balance<+e.amount)){t.next=9;break}return s("Low Blanace"),t.abrupt("return");case 9:return t.next=11,o.a.get("/customer/get/"+a.data.customerId);case 11:(n=t.sent).data.dob=new Date(n.data.dob),b(n.data);case 14:case"end":return t.stop()}}),t)})))())}),[t]);return Object(J.jsx)(I.a,{open:t,onClose:u,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:r?Object(J.jsx)(Fe.a,{variant:"filled",severity:"error",children:r}):Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(U.a,{id:"alert-dialog-title",children:"Please confirm the details?"}),Object(J.jsx)(W.a,{children:Object(J.jsx)(Re.a,{id:"alert-dialog-description",children:Object(J.jsxs)("table",{children:[Object(J.jsxs)("tr",{children:[Object(J.jsx)("td",{children:Object(J.jsx)(N.a,{children:"ID "})}),Object(J.jsx)("td",{children:Object(J.jsxs)(N.a,{children:[": ",l.id]})})]}),Object(J.jsxs)("tr",{children:[Object(J.jsx)("td",{children:Object(J.jsx)(N.a,{children:"First Name "})}),Object(J.jsx)("td",{children:Object(J.jsxs)(N.a,{children:[": ",l.firstName]})})]}),Object(J.jsxs)("tr",{children:[Object(J.jsx)("td",{children:Object(J.jsx)(N.a,{children:"Last Name "})}),Object(J.jsx)("td",{children:Object(J.jsxs)(N.a,{children:[": ",l.lastName]})})]}),Object(J.jsxs)("tr",{children:[Object(J.jsx)("td",{children:Object(J.jsx)(N.a,{children:"Date of Birth "})}),Object(J.jsx)("td",{children:Object(J.jsxs)(N.a,{children:[": ",l.dob.toDateString()]})})]}),Object(J.jsxs)("tr",{children:[Object(J.jsx)("td",{children:Object(J.jsx)(N.a,{children:"NIC "})}),Object(J.jsx)("td",{children:Object(J.jsxs)(N.a,{children:[": ",l.nic]})})]}),Object(J.jsxs)("tr",{children:[Object(J.jsx)("td",{children:Object(J.jsx)(N.a,{children:"Phone Number "})}),Object(J.jsx)("td",{children:Object(J.jsxs)(N.a,{children:[": ",l.phoneNumber]})})]}),Object(J.jsxs)("tr",{children:[Object(J.jsx)("td",{children:Object(J.jsx)(N.a,{children:"Address "})}),Object(J.jsx)("td",{children:Object(J.jsxs)(N.a,{children:[": ",l.address]})})]})]})})}),Object(J.jsxs)(T.a,{children:[Object(J.jsx)(A.a,{onClick:u,children:"Reject"}),Object(J.jsx)(A.a,{onClick:function(){o.a.put("/customeraccount/update",{accountNumber:e.accountNumber,balance:e.isDeposit?+e.amount:-e.amount}),u()},autoFocus:!0,children:"Confirm"})]})]})})},Ee=function(){var e=Object(d.useState)(!1),t=Object(p.a)(e,2),a=t[0],n=t[1],c=Object(d.useState)(""),r=Object(p.a)(c,2),s=r[0],i=r[1],j=Object(d.useState)(""),l=Object(p.a)(j,2),o=l[0],b=l[1],u=Object(d.useState)(!1),O=Object(p.a)(u,2),x=O[0],h=O[1],m=function(e){s&&o&&(h(e),n(!0))};return Object(J.jsxs)(We.a,{component:"main",maxWidth:"xs",children:[Object(J.jsx)(Pe,{open:a,setOpen:n,accountNumber:s,amount:o,isDeposit:x}),Object(J.jsxs)(v.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(J.jsx)(D.a,{sx:{m:1,bgcolor:"primary.main"},children:Object(J.jsx)(Te.a,{})}),Object(J.jsx)(N.a,{component:"h1",variant:"h5",children:"Welcome User"}),Object(J.jsxs)(v.a,{component:"form",sx:{mt:1},children:[Object(J.jsx)(de.a,{margin:"normal",required:!0,fullWidth:!0,label:"Account Number",name:"accountNumber",autoFocus:!0,value:s,onChange:function(e){return i(e.target.value)}}),Object(J.jsx)(de.a,{margin:"normal",required:!0,fullWidth:!0,name:"amount",label:"Amount",value:o,onChange:function(e){return b(e.target.value)}}),Object(J.jsxs)(Ue.a,{container:!0,children:[Object(J.jsx)(Ue.a,{item:!0,xs:!0,children:Object(J.jsx)(A.a,{variant:"contained",sx:{mt:3,mb:2,bgcolor:"secondary.dark"},onClick:function(){return m(!0)},children:"Deposit"})}),Object(J.jsx)(Ue.a,{item:!0,children:Object(J.jsx)(A.a,{variant:"contained",sx:{mt:3,mb:2,bgcolor:"secondary.dark"},onClick:function(){return m(!1)},children:"Withdraw"})})]})]})]})]})},Be=a(155),Le=a.n(Be),Me=function(){var e=Object(h.f)(),t=Y().setToken,a=Object(d.useState)(""),n=Object(p.a)(a,2),c=n[0],r=n[1],s=Object(d.useState)(""),i=Object(p.a)(s,2),j=i[0],l=i[1],b=Object(d.useState)(""),u=Object(p.a)(b,2),O=u[0],x=u[1],m=function(){var a=Object(X.a)(Q.a.mark((function a(){var n,r;return Q.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(x(""),!c||!j){a.next=18;break}return a.next=4,o.a.post("/user/authenticate",{username:c,password:j});case 4:n=a.sent,r=n.data,a.t0=r,a.next="user not found"===a.t0?9:"invalid password"===a.t0?11:"deactivated"===a.t0?13:"admin"===a.t0||"normal"===a.t0?15:18;break;case 9:return x("Invalid User"),a.abrupt("break",18);case 11:return x("Wrong Password"),a.abrupt("break",18);case 13:return x("You have been deactivated"),a.abrupt("break",18);case 15:return t(r),e.push("/dashboard"),a.abrupt("break",18);case 18:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(J.jsx)(We.a,{component:"main",maxWidth:"xs",children:Object(J.jsxs)(v.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(J.jsx)(D.a,{sx:{m:1,bgcolor:"primary.main"},children:Object(J.jsx)(Le.a,{})}),Object(J.jsx)(N.a,{component:"h1",variant:"h5",children:"Sign In"}),Object(J.jsxs)(v.a,{component:"form",sx:{mt:1},children:[Object(J.jsx)(de.a,{margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",autoFocus:!0,value:c,onChange:function(e){return r(e.target.value)}}),Object(J.jsx)(de.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:j,onChange:function(e){return l(e.target.value)}}),O&&Object(J.jsx)(Fe.a,{variant:"filled",severity:"error",children:O}),Object(J.jsx)(A.a,{fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},onClick:m,children:"Sign In"})]})]})})},Je=a(157),qe=a.n(Je),ze=a(156),Ye=a.n(ze),Ge=a(314),Ve=a(324),He=a(278),Ke=a(287),Qe=a(297),Xe=function(e){var t=e.open,a=e.setOpen,n=Object(d.useState)(""),c=Object(p.a)(n,2),r=c[0],s=c[1],i=Object(d.useState)(""),j=Object(p.a)(i,2),l=j[0],b=j[1],u=Object(d.useState)(""),O=Object(p.a)(u,2),x=O[0],h=O[1],m=Object(d.useState)(""),f=Object(p.a)(m,2),g=f[0],v=f[1],w=Object(d.useState)("normal"),k=Object(p.a)(w,2),C=k[0],N=k[1],S=Object(d.useState)("active"),y=Object(p.a)(S,2),D=y[0],F=y[1],R=function(){a(!1)},P=function(){var t=Object(X.a)(Q.a.mark((function t(){var a,n;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={firstName:r,lastName:l,username:x,password:g,joinedOn:new Date,privilege:C,status:"active"},t.prev=1,t.next=4,o.a.post("/user/add",a);case 4:n=t.sent,e.setRows((function(e){return[].concat(Object(oe.a)(e),[Object(le.a)(Object(le.a)({},a),{},{id:n.data})])})),B(),R(),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(1);case 12:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(){return t.apply(this,arguments)}}(),E=function(){var t=Object(X.a)(Q.a.mark((function t(){var a,n;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.rows.find((function(t){return t.id===e.selected})),n={id:e.selected,firstName:r,lastName:l,username:x,password:g||(null===a||void 0===a?void 0:a.password),joinedOn:null===a||void 0===a?void 0:a.joinedOn,privilege:C,status:D},t.prev=2,t.next=5,o.a.put("/user/update",n);case 5:e.setRows((function(t){return t.map((function(t){return t.id===e.selected?Object(le.a)(Object(le.a)({},t),n):t}))})),R(),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(2);case 11:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(){return t.apply(this,arguments)}}(),B=function(){s(""),b(""),h(""),v(""),N("normal"),F("active")};return Object(d.useEffect)((function(){if(e.update){var t=e.rows.find((function(t){return t.id===e.selected}));s(t.firstName),b(t.lastName),h(t.username),N(t.privilege),F(t.status)}else B()}),[e.selected]),Object(J.jsxs)(I.a,{open:t,onClose:R,children:[Object(J.jsxs)(U.a,{children:[e.update?"Update":"Add"," User"]}),Object(J.jsxs)(W.a,{children:[Object(J.jsx)(de.a,{autoFocus:!0,margin:"dense",label:"First Name",fullWidth:!0,variant:"standard",value:r,onChange:function(e){return s(e.target.value)}}),Object(J.jsx)(de.a,{margin:"dense",label:"Last Name",fullWidth:!0,variant:"standard",value:l,onChange:function(e){return b(e.target.value)}}),Object(J.jsx)(de.a,{margin:"dense",id:"username",label:"Username",fullWidth:!0,variant:"standard",value:x,onChange:function(e){return h(e.target.value)}}),Object(J.jsx)(de.a,{margin:"dense",id:"password",label:"Password",type:"password",fullWidth:!0,variant:"standard",value:g,onChange:function(e){return v(e.target.value)}}),Object(J.jsxs)(Ge.a,{component:"fieldset",sx:{marginTop:"8px"},children:[Object(J.jsx)(He.a,{component:"legend",children:"Privilege"}),Object(J.jsxs)(Qe.a,{row:!0,"aria-label":"privilege",defaultValue:"normal",name:"radio-buttons-group",value:C,onChange:function(e){return N(e.target.value)},children:[Object(J.jsx)(Ve.a,{value:"normal",control:Object(J.jsx)(Ke.a,{}),label:"Normal"}),Object(J.jsx)(Ve.a,{value:"admin",control:Object(J.jsx)(Ke.a,{}),label:"Admin"})]})]}),Object(J.jsx)("br",{}),e.update&&Object(J.jsxs)(Ge.a,{component:"fieldset",sx:{marginTop:"8px"},children:[Object(J.jsx)(He.a,{component:"legend",children:"Deactivate"}),Object(J.jsxs)(Qe.a,{row:!0,"aria-label":"status",defaultValue:"active",name:"radio-buttons-group",value:D,onChange:function(e){return F(e.target.value)},children:[Object(J.jsx)(Ve.a,{value:"active",control:Object(J.jsx)(Ke.a,{}),label:"No"}),Object(J.jsx)(Ve.a,{value:"inactive",control:Object(J.jsx)(Ke.a,{}),label:"Yes"})]})]})]}),Object(J.jsxs)(T.a,{children:[Object(J.jsx)(A.a,{onClick:R,children:"Cancel"}),e.update?Object(J.jsx)(A.a,{onClick:E,children:"Update"}):Object(J.jsx)(A.a,{onClick:P,children:"Add"})]})]})},Ze=function(e){return Object(J.jsxs)(C.a,{sx:{pl:{sm:2},pr:{xs:1,sm:1}},children:[Object(J.jsx)(N.a,{sx:{flex:"1 1 100%"},variant:"h6",id:"tableTitle",component:"div",children:"User Details"}),Object(J.jsx)(je.a,{title:"Add New User",children:Object(J.jsx)(k.a,{onClick:function(){e.setShow(!0),e.setUpdate(!1),e.setSelected(0)},children:Object(J.jsx)(Oe.a,{})})})]})},$e=function(){var e=Object(d.useState)(!1),t=Object(p.a)(e,2),a=t[0],n=t[1],c=Object(d.useState)(!1),r=Object(p.a)(c,2),s=r[0],i=r[1],j=Object(d.useState)(0),l=Object(p.a)(j,2),b=l[0],u=l[1],O=Object(d.useState)([]),x=Object(p.a)(O,2),h=x[0],m=x[1],f=Object(d.useState)(!1),g=Object(p.a)(f,2),v=g[0],w=g[1];Object(d.useEffect)((function(){Object(X.a)(Q.a.mark((function e(){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/user/all");case 2:(t=e.sent).data.forEach((function(e){console.log(new Date(e.joinedOn).toDateString())})),m(t.data);case 5:case"end":return e.stop()}}),e)})))()}),[]);return Object(J.jsxs)(L.a,{sx:{width:"100%"},children:[Object(J.jsx)(Xe,{open:a,setOpen:n,rows:h,setRows:m,selected:b,update:v}),Object(J.jsx)(he,{open:s,setOpen:i,action:function(){o.a.delete("/user/delete/"+b),m(h.filter((function(e){return e.id!==b})))}}),Object(J.jsxs)(te.a,{sx:{width:"100%",mb:2},children:[Object(J.jsx)(Ze,{setShow:n,setUpdate:w,setSelected:u}),Object(J.jsx)(re.a,{component:te.a,children:Object(J.jsxs)(ae.a,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(J.jsx)(se.a,{children:Object(J.jsxs)(ie.a,{children:[Object(J.jsx)(ce.a,{children:"ID"}),Object(J.jsx)(ce.a,{align:"right",children:"First Name"}),Object(J.jsx)(ce.a,{align:"right",children:"Last Name"}),Object(J.jsx)(ce.a,{align:"right",children:"Joined On"}),Object(J.jsx)(ce.a,{align:"right",children:"Privilege"}),Object(J.jsx)(ce.a,{align:"right",children:"Activated"}),Object(J.jsx)(ce.a,{align:"right"})]})}),Object(J.jsx)(ne.a,{children:h.map((function(e){return Object(J.jsxs)(ie.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(J.jsx)(ce.a,{component:"th",scope:"row",children:e.id}),Object(J.jsx)(ce.a,{align:"right",children:e.firstName}),Object(J.jsx)(ce.a,{align:"right",children:e.lastName}),Object(J.jsx)(ce.a,{align:"right",children:new Date(e.joinedOn).toDateString()}),Object(J.jsx)(ce.a,{align:"right",children:e.privilege}),Object(J.jsx)(ce.a,{align:"right",children:"active"===e.status?Object(J.jsx)(Ye.a,{}):Object(J.jsx)(qe.a,{})}),Object(J.jsxs)(ce.a,{align:"right",children:[Object(J.jsx)(je.a,{title:"Update User",children:Object(J.jsx)(k.a,{onClick:function(){w(!0),u(e.id),n(!0)},children:Object(J.jsx)(ee.a,{})})}),Object(J.jsx)(je.a,{title:"Delete User",children:Object(J.jsx)(k.a,{onClick:function(){i(!0),u(e.id)},children:Object(J.jsx)($.a,{})})})]})]},e.id)}))})]})})]})]})},_e=function(){return Object(J.jsx)(H,{children:Object(J.jsxs)(h.c,{children:[Object(J.jsx)(h.a,{path:"/",exact:!0,children:Object(J.jsx)(Me,{})}),Object(J.jsx)(h.a,{path:"/dashboard",exact:!0,children:Object(J.jsx)(Ee,{})}),Object(J.jsx)(h.a,{path:"/customers",exact:!0,children:Object(J.jsx)(Ae,{})}),Object(J.jsx)(h.a,{path:"/accounts",exact:!0,children:Object(J.jsx)(pe,{})}),Object(J.jsx)(h.a,{path:"/users",exact:!0,children:Object(J.jsx)($e,{})})]})})},et=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,325)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};o.a.defaults.baseURL="http://localhost:8080";var tt=Object(r.a)({palette:{primary:{main:"#FF9800"},secondary:j.a,contrastThreshold:2.15605749486653}});O.a.render(Object(J.jsx)(b.a.StrictMode,{children:Object(J.jsxs)(s.a,{theme:tt,children:[Object(J.jsx)(i.a,{}),Object(J.jsx)(z,{children:Object(J.jsx)(c.b,{dateAdapter:n.a,children:Object(J.jsx)(x.a,{children:Object(J.jsx)(_e,{})})})})]})}),document.getElementById("root")),et()}},[[214,1,2]]]);
//# sourceMappingURL=main.ca8e930f.chunk.js.map